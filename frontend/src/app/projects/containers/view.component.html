<div class="container-lg p-0" style="height: 100vh">
  <div class="height-full">
    <!-- Board wrapper -->
    <!-- attach view ref here -->
    <!-- TODO specify height of this wrapper -->
    <div class="position-relative height-full">
      <!-- Process details div -->
      <div class="d-flex flex-row py-2 justify-content-between px-2 pb-0 f6">
        <div class="d-flex flex-row">
          <div class="d-table-cell position-relative">
            <h3 class="d-flex align-items-center f5 mb-1">
              <span>Process Name</span>
            </h3>
            <button class="btn btn-link pl-0  text-inherit">
              <span>Updated 21 Hours ago</span>
            </button>
          </div>
        </div>
        <div class="d-flex flex-row align-items-center f6">
          <div class="d-table-cell">
            <button type="button" class="btn btn-link muted-link no-underline v-align-middle d-flex align-items-center" (click)="openSideBar('addTask', null)">
              ➕
              <!-- TODO replace with decimal entity rep of &plus; -->
              <span>Add Task</span>
            </button>
          </div>
        </div>
      </div>
      <!-- Board div holding tasks  -->
      <div class="no-wrap d-flex process-columns position-relative bg-white">
        <div class="w-100 p-2 d-flex height-full">
          <div class="process-column mr-3" *ngFor="let board of [0, 1, 2]; let i = index;" [attr.data-column_id]="12">
            <div class="wrapper--shadow scroll-wrapper">
              <div class="text-uppercase flex-shrink-0">
                <div class="p-2 position-relative">
                  <div class="dropdown remove-caret dropdown--options float-right" placement="left-top" ngbDropdown>
                    <button type="button" class="btn btn-light py-1 px-2 bg-transparent" ngbDropdownToggle>
                      <span data-feather="more-horizontal"></span>
                    </button>
                    <div class="dropdown-menu py-0" role="menu" ngbDropdownMenu>
                      <button (click)="openSideBar('editStage', board)"
                        class="dropdown-item py-2"><span data-feather="edit"></span>  Edit</button>
                        <!-- TODO is this dropdown necessary self -->
                      <button class="dropdown-item py-2" (click)="confirmDeleteColumn(board)">
                        <span data-feather="trash-2"></span> Delete</button>
                    </div>
                  </div>
                  <span class="float-right">➕</span>
                  <h4 class="px-1 m-0 f5 v-align-middle d-inline">
                    <span class="badge badge-secondary position-badge mr-1">3</span>
                    <span>Stage Name</span>
                  </h4>
                </div>
              </div>

              <div class="scroll">
        
                <div class="board-cards custom-scroll px-2 pb-2 flex-grow" dragula="rearrangetask" [attr.data-columnid]="3">
                  <div  *ngFor="let task of [ 7, 8,44 ,9,0, 80, 71, 228, 18191, 29,29,220, 119,19]" [attr.data-taskid]="4" class="board-card">
                    <div class="d-flex flex-row">
                      <div class="flex-auto position-relative bg-white rounded">
                        <div class="pl-5 p-2 position-relative">
                          <!-- TODO position status indicator -->
                          <a class="task--title mb-1 mr-5" (click)="preventDefault($event)"
                          (click)="openSideBar('openTask', task)" href="#">
                          <!-- TODO (oneeyedsunday) link to task page-->
                            Task Name
                          </a>
                          <span class="position-absolute task--info">
                            <div class="task-status--ok">
                              <span data-feather="info"></span>
                            </div>
                          </span>
                          <div class="dropdown remove-caret dropdown--options float-right" placement="left-top" ngbDropdown>
                            <button type="button" class="btn btn-light py-1 px-2 bg-transparent" ngbDropdownToggle>
                              <span data-feather="more-horizontal"></span>
                            </button>
                            <div class="dropdown-menu py-0" role="menu" ngbDropdownMenu>
                              <button class="dropdown-item py-2" (click)="confirmDeleteColumn(board)">
                                Discard Task</button>
                            </div>
                          </div>
                          <div class="my-1" style="vertical-align: middle !important; height: 1px;"></div>
                          <small class="text-gray d-block f-90">
                            Assigned to Mr. Adeyanju Isiaka & 3 others
                          </small>
                          <!-- Heck even priority here -->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="p-2 bg-gray-light border-top flex-shrink-0 rounded stage--footer">

              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Div that pops up -->
      <div class="process-pane closed pop-pane border-left border-bottom bg-white" #refSidePane>
        <div class="d-flex flex-column height-full">
          <div class="d-flex flex-column">
            <div class="flex-auto overflow-auto">
              <div class="p-3 d-flex f4 lh-condensed justify-content-between border-bottom">
                <div class="flex-auto overflow-hidden lh-default">
                  <div>Task Name</div>
                  <!-- Form to edit name -->
                  <form class="d-none"></form>
                </div>
                <div class="d-flex">
                  <!-- TODO close CTA -->
                  <div>
                    <button class="btn mr-2"></button>
                  </div>
                  <div>
                    <button class="btn btn-link close--btn pt-0" (click)="refSidePane.classList.toggle('closed')">
                    <span data-feather="x"></span>
                    </button>
                  </div>
                </div>
                <!-- TODO put task creation cmp here -->
                <!-- TODO put stage creation cmp here -->
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- TODO crad with CTA to add stage -->
    </div>
  </div>
</div>