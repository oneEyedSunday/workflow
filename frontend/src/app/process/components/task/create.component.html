<form #groupForm="ngForm" (ngSubmit)="submitForm()">
    <div class="form-group">
        <label class="col-form-label col-sm-3">Form</label>
        <div class="col-sm-10">
            <ng-select [items]="forms"
                name="form"
                [compareWith]="formCompare"
                bindLabel="form_name"
                [(ngModel)]="task.form">
            </ng-select>
            <div class="invalid-feedback">
                <small>Form or Document is required</small>
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="col-form-label col-sm-3">Document</label>
        <div class="col-sm-10">
            <ng-select [items]="documents"
                name="document"
                [compareWith]="documentCompare"
                bindLabel="filename"
                [(ngModel)]="task.document">
            </ng-select>
            <div class="invalid-feedback">
                <small>Form or Document is required</small>
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="col-form-label col-sm-3">Users</label>
        <div class="col-sm-10">
            <ng-select
                name="users"
                [items]="users"
                [closeOnSelect]="false"
                [searchable]="false"
                bindLabel="id"
                [compareWith]="userCompare"
                placeholder="Select Users"
                [(ngModel)]="task.users">
                <ng-template ng-option-tmp let-user="item" let-index="index">
                    <span>{{ user.first_name }} {{ user.last_name }}</span>
                </ng-template>
                <ng-template ng-label-tmp let-user="item" let-clear="clear">
                    <span (click)="clear(user)" aria-hidden="true" class="ng-value-icon right">Ã—</span>
                    <span class="px-1">{{ user.first_name}} {{ user.last_name }}</span>
                </ng-template>
            </ng-select>
        </div>
    </div>

    <div class="form-group">
        <label class="col-form-label col-sm-3">Groups</label>
        <div class="col-sm-10">
            <ng-select
                name="groups"
                [items]="groups"
                [closeOnSelect]="false"
                [searchable]="false"
                [compareWith]="groupCompare"
                bindLabel="group_name"
                placeholder="Select Groups"
                [(ngModel)]="task.groups">
            </ng-select>
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-4">
            <button class="btn btn-primary" [disabled]="submitting" type="submit">
                <span class="fa fa-spin fa-spinner" *ngIf="submitting"></span>
                Save
            </button>
        </div>
    </div>
</form>